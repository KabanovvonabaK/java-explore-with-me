DROP TABLE IF EXISTS HITS CASCADE;

CREATE TABLE IF NOT EXISTS HITS (
    ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY NOT NULL,
    APP VARCHAR(50) NOT NULL,
    URI VARCHAR(50) NOT NULL,
    IP VARCHAR(30) NOT NULL,
    TIMESTAMP TIMESTAMP WITHOUT TIME ZONE NULL
);

CREATE INDEX IF NOT EXISTS idx_hits_uri ON HITS ( URI );
CREATE INDEX IF NOT EXISTS idx_hits_timestamp ON HITS ( TIMESTAMP );